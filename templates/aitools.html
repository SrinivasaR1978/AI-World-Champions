<!DOCTYPE html>
<html>
<head>
  <title>AI Tools Directory</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 10px; padding: 10px; background: #f4f6f9; }
    /* Navbar */
    .navbar {
      background-color: darkblue;
      padding: 12px 20px;
      display: flex;
      justify-content: flex-end; /* Push items to right */
      align-items: center;
    }

    .navbar a {
      background-color: darkblue;
      color: white;
      padding: 10px 18px;
      margin-left: 10px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
      transition: background 0.3s;
    }

    .navbar a:hover {
      background-color: rgb(0, 128, 75);
    }


    /* Filters */
    .filters {
      display: flex; gap: 10px; margin: 15px 0; flex-wrap: wrap;
    }
    #searchBar, #categoryFilter {
      padding: 10px; font-size: 16px; border: 1px solid #ccc;
      border-radius: 8px;
    }
    #searchBar { width: 100%; max-width: 350px; }
    #categoryFilter { width: 200px; }

    .category {
      background: white; border-radius: 10px; margin: 15px 0; padding: 20px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .category h2 { margin-top: 0; color: #333; }
    .category p { color: #666; }
    .tools { margin-top: 10px; }
    .tool {
      display: inline-block; background: #007bff; color: white; 
      padding: 8px 12px; margin: 5px; border-radius: 5px; text-decoration: none;
    }
    .tool:hover { background: #0056b3; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="navbar">
    <a href="/home">Home</a>
    <a href="/ai">AI</a>
    <a href="/aitools">AI Tools</a>
    <a href="/projects">Projects</a>
    <a href="/Documents">Documents</a>
    <a href="/contact">Contact</a>
    <a href="/Signout">Signout</a>
  </div>

  <div class="container">
    <h1>AI Tools Directory</h1>

    <!-- Filters -->
    <div class="filters">
      <input type="text" id="searchBar" placeholder="ðŸ” Search for a tool...">
      <select id="categoryFilter">
        <option value="all">ðŸ“‚ All Categories</option>
        {% for category in categories.keys() %}
          <option value="{{ category }}">{{ category }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- Categories -->
    {% for category, details in categories.items() %}
    <div class="category" data-category="{{ category }}">
      <h2>{{ category }} ({{ details.tools|length }} tools)</h2>
      <p>{{ details.desc }}</p>
      <div class="tools">
        {% for tool in details.tools %}
          <span class="tool">{{ tool }}</span>
        {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>

  <script>
    const searchBar = document.getElementById('searchBar');
    const categoryFilter = document.getElementById('categoryFilter');
    const categories = document.querySelectorAll('.category');

    function filterTools() {
      let searchValue = searchBar.value.toLowerCase();
      let selectedCategory = categoryFilter.value;

      categories.forEach(cat => {
        let tools = cat.querySelectorAll('.tool');
        let matchFound = false;

        // Filter by tool name
        tools.forEach(tool => {
          if (tool.textContent.toLowerCase().includes(searchValue)) {
            tool.style.display = "inline-block";
            matchFound = true;
          } else {
            tool.style.display = "none";
          }
        });

        // Filter by category
        let categoryMatch = (selectedCategory === "all" || cat.getAttribute("data-category") === selectedCategory);

        if ((matchFound || searchValue === "") && categoryMatch) {
          cat.classList.remove('hidden');
          if (searchValue === "") {
            tools.forEach(tool => tool.style.display = "inline-block"); // reset if only category selected
          }
        } else {
          cat.classList.add('hidden');
        }
      });
    }

    // Event listeners
    searchBar.addEventListener('keyup', filterTools);
    categoryFilter.addEventListener('change', filterTools);
  </script>
</body>
</html>
